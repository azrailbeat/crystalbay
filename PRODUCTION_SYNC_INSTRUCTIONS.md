# üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò –ü–†–û–î–ê–ö–®–ù –°–ï–†–í–ï–†–ê

## üéØ –ü–†–û–ë–õ–ï–ú–ê
–ü—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä (46.250.234.89) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞ —Å –æ—à–∏–±–∫–∞–º–∏ "Unexpected token '<'".

**–°–∏–º–ø—Ç–æ–º—ã –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω:**
- ‚ùå –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≤—ã–¥–∞—é—Ç "Unexpected token" 
- ‚ùå API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç HTML –≤–º–µ—Å—Ç–æ JSON
- ‚ùå –°—Ç–∞—Ç—É—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤–º–µ—Å—Ç–æ –∑–µ–ª–µ–Ω–æ–≥–æ "–ø–æ–¥–∫–ª—é—á–µ–Ω —É—Å–ø–µ—à–Ω–æ"

**–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (8/10)
- ‚úÖ API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üîß –†–ï–®–ï–ù–ò–ï

### –®–∞–≥ 1: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
scp production_sync.tar.gz root@46.250.234.89:~/
```

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@46.250.234.89
```

### –®–∞–≥ 3: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
cd ~/crystalbay

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –ò–∑–≤–ª–µ—á—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
tar -xzf ~/production_sync.tar.gz

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose build --no-cache web

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d

# –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
sleep 30

# –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
curl http://127.0.0.1:5000/health
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON
curl http://127.0.0.1:5000/api/diagnostics/samo

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ endpoints
curl http://127.0.0.1:5000/api/diagnostics/environment
curl http://127.0.0.1:5000/api/diagnostics/server
```

## üìã –ö–õ–Æ–ß–ï–í–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –í —Ñ–∞–π–ª–µ `app_api.py`:
1. **–í—Å–µ API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON** –≤–º–µ—Å—Ç–æ HTML
2. **–î–æ–±–∞–≤–ª–µ–Ω import sys** –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è LSP –æ—à–∏–±–æ–∫
3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö

### –í —Ñ–∞–π–ª–µ `templates/samo_testing.html`:
1. **–õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ DNS-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é
2. **–ó–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º DNS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏
3. **JavaScript —Ñ—É–Ω–∫—Ü–∏–∏** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç JSON –æ—Ç–≤–µ—Ç—ã

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–µ:

‚úÖ **–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**: –ó–µ–ª–µ–Ω—ã–π "SAMO API –ø–æ–¥–∫–ª—é—á–µ–Ω —É—Å–ø–µ—à–Ω–æ"  
‚úÖ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏**: –†–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫  
‚úÖ **API endpoints**: –í–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON  
‚úÖ **Curl —Ñ—É–Ω–∫—Ü–∏–∏**: –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ "Unexpected token"  
‚ö†Ô∏è **SAMO API**: –ü–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (—Ç—Ä–µ–±—É–µ—Ç whitelist IP)

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: `docker-compose ps`
2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏: `docker-compose logs web`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏: `docker-compose restart web`

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.