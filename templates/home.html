{% extends "layout.html" %}

{% block title %}Crystal Bay Tours - Главная{% endblock %}

{% block head %}
<style>
    .hero-section {
        padding: 4rem 0;
        text-align: center;
    }
    
    .hero-title {
        font-size: 3.2rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        background: linear-gradient(45deg, #5ac8fa, #0071e3);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .hero-subtitle {
        font-size: 1.5rem;
        font-weight: 400;
        margin-bottom: 2.5rem;
        color: #86868b;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
    }
    
    .feature-card {
        text-align: center;
        padding: 2rem;
        height: 100%;
        transition: transform 0.3s ease;
    }
    
    .feature-card:hover {
        transform: translateY(-10px);
    }
    
    .feature-icon {
        font-size: 2.5rem;
        margin-bottom: 1.5rem;
        color: var(--primary-color);
    }
    
    .stat-card {
        text-align: center;
        padding: 2rem;
    }
    
    .stat-number {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        background: linear-gradient(45deg, #5ac8fa, #0071e3);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .search-section {
        background-color: var(--card-background);
        border-radius: var(--border-radius);
        padding: 3rem;
        margin-top: 3rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }
    
    .search-tabs .nav-link {
        padding: 1rem 1.5rem;
        font-weight: 500;
        color: #86868b;
        border: none;
        border-radius: var(--border-radius);
        margin-right: 0.5rem;
    }
    
    .search-tabs .nav-link.active {
        background-color: var(--primary-color);
        color: white;
    }
    
    .search-form {
        padding: 2rem 0 1rem;
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <h1 class="hero-title fade-in">Путешествуйте с Crystal Bay Tours</h1>
        <p class="hero-subtitle fade-in">Простая и удобная система бронирования туров с уникальным подходом к каждому клиенту</p>
        <div class="d-flex justify-content-center gap-3">
            <a href="/tours" class="btn btn-primary btn-lg px-4 py-3">
                <i class="bi bi-search me-2"></i> Найти туры
            </a>
            <a href="/bookings" class="btn btn-outline-light btn-lg px-4 py-3">
                <i class="bi bi-calendar-check me-2"></i> Мои бронирования
            </a>
        </div>
    </div>
</section>

<!-- Search Section -->
<section class="search-section mb-5">
    <div class="container">
        <h2 class="text-center mb-4">Быстрый поиск туров</h2>
        
        <!-- Search Tabs -->
        <ul class="nav nav-pills search-tabs justify-content-center mb-3" id="search-tab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="all-tours-tab" data-bs-toggle="pill" data-bs-target="#all-tours-content" type="button" role="tab" aria-controls="all-tours-content" aria-selected="true">
                    <i class="bi bi-globe2 me-2"></i> Все направления
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="beach-tours-tab" data-bs-toggle="pill" data-bs-target="#beach-tours-content" type="button" role="tab" aria-controls="beach-tours-content" aria-selected="false">
                    <i class="bi bi-umbrella me-2"></i> Пляжный отдых
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="excursion-tours-tab" data-bs-toggle="pill" data-bs-target="#excursion-tours-content" type="button" role="tab" aria-controls="excursion-tours-content" aria-selected="false">
                    <i class="bi bi-camera me-2"></i> Экскурсионные туры
                </button>
            </li>
        </ul>
        
        <!-- Search Tab Content -->
        <div class="tab-content" id="search-tab-content">
            <div class="tab-pane fade show active" id="all-tours-content" role="tabpanel" aria-labelledby="all-tours-tab">
                <form class="search-form" id="all-tours-form">
                    <div class="row g-3">
                        <div class="col-md-3">
                            <label for="departure-city" class="form-label">Город вылета</label>
                            <select class="form-select" id="departure-city" required>
                                <option value="" selected disabled>Выберите город</option>
                                <option value="moscow">Москва</option>
                                <option value="spb">Санкт-Петербург</option>
                                <option value="yekaterinburg">Екатеринбург</option>
                                <option value="kazan">Казань</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label for="destination-country" class="form-label">Страна</label>
                            <select class="form-select" id="destination-country" required>
                                <option value="" selected disabled>Выберите страну</option>
                                <option value="turkey">Турция</option>
                                <option value="egypt">Египет</option>
                                <option value="thailand">Таиланд</option>
                                <option value="uae">ОАЭ</option>
                                <option value="cyprus">Кипр</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label for="departure-date" class="form-label">Дата вылета</label>
                            <input type="date" class="form-control" id="departure-date" required>
                        </div>
                        <div class="col-md-2">
                            <label for="nights" class="form-label">Ночей</label>
                            <select class="form-select" id="nights">
                                <option value="7">7 ночей</option>
                                <option value="10">10 ночей</option>
                                <option value="14">14 ночей</option>
                            </select>
                        </div>
                        <div class="col-md-2 d-flex align-items-end">
                            <button type="submit" class="btn btn-primary w-100 py-2">
                                <i class="bi bi-search me-2"></i> Найти
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            
            <!-- Other tab content would be similar -->
            <div class="tab-pane fade" id="beach-tours-content" role="tabpanel" aria-labelledby="beach-tours-tab">
                <form class="search-form" id="beach-tours-form">
                    <div class="row g-3">
                        <!-- Same structure but with beach-specific options -->
                        <div class="col-md-3">
                            <label for="beach-departure-city" class="form-label">Город вылета</label>
                            <select class="form-select" id="beach-departure-city" required>
                                <option value="" selected disabled>Выберите город</option>
                                <option value="moscow">Москва</option>
                                <option value="spb">Санкт-Петербург</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label for="beach-destination" class="form-label">Пляжное направление</label>
                            <select class="form-select" id="beach-destination" required>
                                <option value="" selected disabled>Выберите направление</option>
                                <option value="antalya">Анталья, Турция</option>
                                <option value="sharm">Шарм-эль-Шейх, Египет</option>
                                <option value="phuket">Пхукет, Таиланд</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label for="beach-date" class="form-label">Дата вылета</label>
                            <input type="date" class="form-control" id="beach-date" required>
                        </div>
                        <div class="col-md-2">
                            <label for="beach-nights" class="form-label">Ночей</label>
                            <select class="form-select" id="beach-nights">
                                <option value="7">7 ночей</option>
                                <option value="10">10 ночей</option>
                                <option value="14">14 ночей</option>
                            </select>
                        </div>
                        <div class="col-md-2 d-flex align-items-end">
                            <button type="submit" class="btn btn-primary w-100 py-2">
                                <i class="bi bi-search me-2"></i> Найти
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="tab-pane fade" id="excursion-tours-content" role="tabpanel" aria-labelledby="excursion-tours-tab">
                <form class="search-form" id="excursion-tours-form">
                    <div class="row g-3">
                        <!-- Excursion-specific options -->
                        <div class="col-md-3">
                            <label for="excursion-departure-city" class="form-label">Город вылета</label>
                            <select class="form-select" id="excursion-departure-city" required>
                                <option value="" selected disabled>Выберите город</option>
                                <option value="moscow">Москва</option>
                                <option value="spb">Санкт-Петербург</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label for="excursion-destination" class="form-label">Направление</label>
                            <select class="form-select" id="excursion-destination" required>
                                <option value="" selected disabled>Выберите направление</option>
                                <option value="italy">Италия</option>
                                <option value="france">Франция</option>
                                <option value="spain">Испания</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label for="excursion-date" class="form-label">Дата вылета</label>
                            <input type="date" class="form-control" id="excursion-date" required>
                        </div>
                        <div class="col-md-2">
                            <label for="excursion-nights" class="form-label">Ночей</label>
                            <select class="form-select" id="excursion-nights">
                                <option value="5">5 ночей</option>
                                <option value="7">7 ночей</option>
                                <option value="10">10 ночей</option>
                            </select>
                        </div>
                        <div class="col-md-2 d-flex align-items-end">
                            <button type="submit" class="btn btn-primary w-100 py-2">
                                <i class="bi bi-search me-2"></i> Найти
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5">Почему выбирают Crystal Bay Tours</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card feature-card">
                    <i class="bi bi-shield-check feature-icon"></i>
                    <h3>Гарантия низких цен</h3>
                    <p class="text-secondary">Мы работаем напрямую с отелями и туроператорами, чтобы предложить вам лучшие цены на рынке.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card">
                    <i class="bi bi-headset feature-icon"></i>
                    <h3>Поддержка 24/7</h3>
                    <p class="text-secondary">Наша команда поддержки доступна круглосуточно, чтобы ответить на все ваши вопросы и помочь с любыми проблемами.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card">
                    <i class="bi bi-hand-thumbs-up feature-icon"></i>
                    <h3>Проверенные отели</h3>
                    <p class="text-secondary">Мы сотрудничаем только с проверенными отелями, которые гарантируют высокий уровень комфорта и обслуживания.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Statistics Section -->
<section class="py-5 bg-dark">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-number" id="countries-count">25+</div>
                    <p>Стран</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-number" id="hotels-count">2700+</div>
                    <p>Отелей</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-number" id="tours-count">5000+</div>
                    <p>Туров</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-number" id="clients-count">10K+</div>
                    <p>Довольных клиентов</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Popular Destinations -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5">Популярные направления</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card">
                    <img src="https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Турция">
                    <div class="card-body text-center">
                        <h3 class="card-title">Турция</h3>
                        <p class="card-text text-secondary">Идеальное сочетание пляжного отдыха, исторических достопримечательностей и турецкого гостеприимства.</p>
                        <a href="/tours?country=turkey" class="btn btn-outline-primary">Показать туры</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <img src="https://images.unsplash.com/photo-1568111561564-08726a1563e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Египет">
                    <div class="card-body text-center">
                        <h3 class="card-title">Египет</h3>
                        <p class="card-text text-secondary">Погрузитесь в мир древних пирамид, наслаждайтесь красотами Красного моря и египетской культурой.</p>
                        <a href="/tours?country=egypt" class="btn btn-outline-primary">Показать туры</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <img src="https://images.unsplash.com/photo-1525154975577-5539fb6c8a2c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="Таиланд">
                    <div class="card-body text-center">
                        <h3 class="card-title">Таиланд</h3>
                        <p class="card-text text-secondary">Экзотическая природа, белоснежные пляжи, богатая культура и непревзойденная тайская кухня.</p>
                        <a href="/tours?country=thailand" class="btn btn-outline-primary">Показать туры</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Handle form submissions
        const searchForms = document.querySelectorAll('.search-form');
        searchForms.forEach(form => {
            form.addEventListener('submit', function(event) {
                event.preventDefault();
                
                // Get form data
                const formData = new FormData(this);
                const searchParams = new URLSearchParams();
                
                // Add form data to search params
                for (const [key, value] of formData.entries()) {
                    searchParams.append(key, value);
                }
                
                // Redirect to tours page with search params
                window.location.href = `/tours?${searchParams.toString()}`;
            });
        });
        
        // Set minimum date for date inputs to today
        const today = new Date().toISOString().split('T')[0];
        document.querySelectorAll('input[type="date"]').forEach(input => {
            input.min = today;
            input.value = today;
        });
    });
</script>
{% endblock %}